#: include kvfiles/commons.kv
#: import ButtonColor components.commons.ButtonColor


<AddTaskScreen>:
    id: add_task
    name: "add_task"
    MDFloatLayout:
        BackButton:
            id: back_button
            screen: root
            size_hint_x: .7
            pos_hint: {"center_x": .4, "center_y": .85}
        MDLabel:
            text: "Add Task"
            theme_text_color: "Custom"
            text_color: "#ffffff"
            font_style: "Headline"
            role: "large"
            bold: True
            pos_hint: {"center_x": .65, "center_y": .945}


    MDBoxLayout:
        orientation: "vertical"
        spacing: "35dp"
        adaptive_height: True
        size_hint_x: .8
        pos_hint: {"center_x": .5, "center_y": .5}

        MDBoxLayout:
            orientation: "vertical"
            spacing: "25dp"
            adaptive_height: True
            MDLabel:
                text: "Title"
                theme_text_color: "Custom"
                text_color: "#ffffff"
                font_style: "Title"
                role: "large"
                bold: True

            MDTextField:
                color_mode: 'accent'
                id : title_field
                mode: "outlined"
                theme_text_color: "Custom"
                theme_line_color: "Custom"
                theme_bg_color: "Custom"
                line_color_focus: "green"
                text_color_normal: 1,1,1,1
                text_color_focus: 1,1,1,1
                # required: True

                MDTextFieldHintText:
                    text: "Task Title"
                    theme_text_color: "Custom"
                    text_color_normal: 1,1,1,1
                    text_color_focus: 1,1,1,1

        MDBoxLayout:
            orientation: "vertical"
            spacing: "25dp"
            adaptive_height: True
            MDLabel:
                text: "Note"
                theme_text_color: "Custom"
                text_color: "#ffffff"
                font_style: "Title"
                role: "large"
                bold: True

            MDTextField:
                id: note_field
                mode: "outlined"
                theme_text_color: "Custom"
                theme_line_color: "Custom"
                theme_bg_color: "Custom"
                line_color_focus: "green"
                text_color_normal: 1,1,1,1
                text_color_focus: 1,1,1,1
                # multiline: True
                # max_height: "80sp"

                MDTextFieldHintText:
                    text: "Task Description"
                    theme_text_color: "Custom"
                    text_color_normal: 1,1,1,1
                    text_color_focus: 1,1,1,1
        
        MDBoxLayout:
            orientation: "vertical"
            spacing: "25dp"
            adaptive_height: True


            MDLabel:
                text: "Due Date"
                theme_text_color: "Custom"
                text_color: "#ffffff"
                font_style: "Title"
                role: "large"
                bold: True

            MDTextField:
                id: date_field
                mode: "outlined"
                theme_text_color: "Custom"
                theme_line_color: "Custom"
                theme_bg_color: "Custom"
                line_color_focus: "green"
                text_color_normal: 1,1,1,1
                text_color_focus: 1,1,1,1
                date_format: "dd/mm/yyyy"
                on_focus: root.show_date_picker(self.focus)

                MDTextFieldHintText:
                    text: "dd/mm/yyyy"
                    theme_text_color: "Custom"
                    text_color_normal: 1,1,1,1
                    text_color_focus: 1,1,1,1


        MDBoxLayout:
            orientation: "vertical"
            spacing: "25dp"
            adaptive_height: True

            MDLabel:
                text: "Due Time"
                theme_text_color: "Custom"
                text_color: "#ffffff"
                font_style: "Title"
                role: "large"
                bold: True

            MDTextField:
                id: time_field
                mode: "outlined"
                theme_text_color: "Custom"
                theme_line_color: "Custom"
                theme_bg_color: "Custom"
                line_color_focus: "green"
                text_color_normal: 1,1,1,1
                text_color_focus: 1,1,1,1
                on_focus: root.show_time_picker(self.focus)

                MDTextFieldHintText:
                    text: "hh:mm:ss"
                    theme_text_color: "Custom"
                    text_color_normal: 1,1,1,1
                    text_color_focus: 1,1,1,1

        MDBoxLayout:
            orientation: "vertical"
            spacing: "25dp"
            adaptive_height: True
            MDLabel:
                text: "Assigned To"
                theme_text_color: "Custom"
                text_color: "#ffffff"
                font_style: "Title"
                role: "large"
                bold: True

            MDTextField:
                id : assigned_to_field
                mode: "outlined"
                theme_text_color: "Custom"
                theme_line_color: "Custom"
                theme_bg_color: "Custom"
                line_color_focus: "green"
                text_color_normal: 1,1,1,1
                text_color_focus: 1,1,1,1

                MDTextFieldHintText:
                    text: "Name or Email"
                    theme_text_color: "Custom"
                    text_color_normal: 1,1,1,1
                    text_color_focus: 1,1,1,1

        MDBoxLayout:
            orientation: "vertical"
            spacing: "25dp"
            adaptive_height: True
            MDLabel:
                text: "Team"
                theme_text_color: "Custom"
                text_color: "#ffffff"
                font_style: "Title"
                role: "large"
                bold: True

            MDTextField:
                id: team_field
                mode: "outlined"
                theme_text_color: "Custom"
                theme_line_color: "Custom"
                theme_bg_color: "Custom"
                line_color_focus: "green"
                text_color_normal: 1,1,1,1
                text_color_focus: 1,1,1,1

                MDTextFieldHintText:
                    text: "Team Name"
                    theme_text_color: "Custom"
                    text_color_normal: 1,1,1,1
                    text_color_focus: 1,1,1,1

        MDBoxLayout:
            orientation: "vertical"
            spacing: "5dp"
            adaptive_height: True
            MDLabel:
                text: "Priority"
                theme_text_color: "Custom"
                text_color: "#ffffff"
                font_style: "Title"
                role: "large"
                bold: True

            MDSlider:
                id: priority_field
                value: 0
                max: 5
                step: 1
                track_active_color : ButtonColor
                MDSliderHandle:
                    theme_bg_color: "Custom"
                    md_bg_color : ButtonColor

                MDSliderValueLabel:
                    color : ButtonColor

    MDButton:
        id: add_task_button
        style: "filled"
        pos_hint: {"center_x": .5, "center_y":.08}
        theme_width: "Custom"
        theme_height: "Custom"
        size_hint_x: .3
        size_hint_y: .04
        theme_bg_color: "Custom"
        on_release: root.create_task()
        md_bg_color: ButtonColor
        radius: 15

        MDButtonIcon:
            icon: "plus"

        MDButtonText:
            text: "Create Task"
            theme_font_size: "Custom"
            theme_font_name: "Custom"
            font_name: "assets/Poppins/Poppins-Bold.ttf"
            pos_hint: {"center_x": .55, "center_y": .5}